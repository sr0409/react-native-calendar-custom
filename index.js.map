{"version":3,"file":"index.js","sources":["../src/theme.ts","../src/commonStyles.ts","../src/utils.ts","../src/hooks/useNow.ts","../src/hooks/usePanResponder.ts","../src/hooks/useCalendarTouchableOpacityProps.ts","../src/components/DefaultCalendarEventRenderer.tsx","../src/components/CalendarEvent.tsx","../src/components/CalendarBody.tsx","../src/components/CalendarEventForMonthView.tsx","../src/components/CalendarBodyForMonthView.tsx","../src/components/CalendarHeader.tsx","../src/components/CalendarHeaderForMonthView.tsx","../src/components/Calendar.tsx"],"sourcesContent":["export enum Color {\n  primary = 'rgb(66, 133, 244)',\n  red = '#C80B22',\n  yellow = '#F8E71C',\n  green = '#4AC001',\n  orange = '#E26245',\n  pink = '#5934C7',\n}\n","import { Platform, StyleSheet } from 'react-native'\n\nimport { Color } from './theme'\n\nexport const MIN_HEIGHT = 1200\nexport const HOUR_GUIDE_WIDTH = 50\nexport const OVERLAP_OFFSET = Platform.OS === 'web' ? 20 : 8\nexport const OVERLAP_PADDING = Platform.OS === 'web' ? 3 : 0\n\nexport const commonStyles = StyleSheet.create({\n  eventCell: {\n    backgroundColor: Color.primary,\n    zIndex: 100,\n    start: 3,\n    end: 3,\n    borderRadius: 3,\n    padding: 4,\n    overflow: 'hidden',\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.2,\n    shadowRadius: 1,\n    elevation: 2,\n    minWidth: '33%',\n  },\n})\n\n/*\n * Utility-first CSS.\n */\nexport const u = StyleSheet.create({\n  /*\n   * Flex\n   */\n  flex: {\n    flexDirection: 'row',\n  },\n  'flex-row': {\n    flexDirection: 'row',\n  },\n  'flex-row-reverse': {\n    flexDirection: 'row-reverse',\n  },\n  'flex-column': {\n    flexDirection: 'column',\n  },\n  'flex-1': {\n    flex: 1,\n  },\n  'justify-between': {\n    justifyContent: 'space-between',\n  },\n  'justify-center': {\n    justifyContent: 'center',\n  },\n  'items-center': {\n    alignItems: 'center',\n  },\n  'self-center': {\n    alignSelf: 'center',\n  },\n\n  /*\n   * Border\n   */\n  'border-l': {\n    borderLeftWidth: 1,\n  },\n  'border-t': {\n    borderTopWidth: 1,\n  },\n  'border-b': {\n    borderBottomWidth: 1,\n  },\n  'border-r': {\n    borderRightWidth: 1,\n  },\n  'border-gray-100': {\n    borderColor: '#eee',\n  },\n  'border-gray-200': {\n    borderColor: '#ddd',\n  },\n\n  /*\n   * Spacing\n   */\n  'mt-2': {\n    marginTop: 2,\n  },\n  'mt-4': {\n    marginTop: 4,\n  },\n  'mt-6': {\n    marginTop: 6,\n  },\n  'mb-6': {\n    marginBottom: 6,\n  },\n  'p-8': {\n    padding: 8,\n  },\n  'pt-2': {\n    paddingTop: 2,\n  },\n  'py-2': {\n    paddingVertical: 2,\n  },\n  'px-6': {\n    paddingHorizontal: 6,\n  },\n  'pb-6': {\n    paddingBottom: 6,\n  },\n\n  /*\n   * Text\n   */\n  'text-gray-800': {\n    color: '#444',\n  },\n  'text-gray-300': {\n    color: '#888',\n  },\n  'text-2xl': {\n    fontSize: 22,\n  },\n  'text-center': {\n    textAlign: 'center',\n  },\n  'text-white': {\n    color: '#fff',\n  },\n  'text-primary': {\n    color: Color.primary,\n  },\n  'text-xs': {\n    fontSize: 10,\n  },\n  'text-sm': {\n    fontSize: 12,\n  },\n\n  /*\n   * Radius\n   */\n  rounded: {\n    borderRadius: 3,\n  },\n  'rounded-full': {\n    borderRadius: 9999,\n  },\n\n  /*\n   * Z Index\n   */\n  'z-0': {\n    zIndex: 0,\n  },\n  'z-10': {\n    zIndex: 10,\n  },\n  'z-20': {\n    zIndex: 20,\n  },\n\n  /*\n   * Backgrond\n   */\n  'bg-primary': {\n    backgroundColor: Color.primary,\n  },\n  'bg-white': {\n    backgroundColor: '#fff',\n  },\n\n  /*\n   * Width\n   */\n  'w-36': {\n    width: 36,\n  },\n  'w-50': {\n    width: 50,\n  },\n  'h-36': {\n    height: 36,\n  },\n\n  /*\n   * Misc\n   */\n  'overflow-hidden': {\n    overflow: 'hidden',\n  },\n  absolute: {\n    position: 'absolute',\n  },\n})\n\nexport const eventTitleStyle = [u['text-white'], u['text-sm']]\n\nexport const dateCellStyle = [u['border-l'], u['border-b'], u['border-gray-100'], u['bg-white']]\n\nexport const guideTextStyle = [u['text-gray-300'], u['text-xs'], u['text-center']]\n","import dayjs from 'dayjs'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport React from 'react'\n\nimport { OVERLAP_PADDING } from './commonStyles'\nimport { ICalendarEvent, Mode, WeekNum } from './interfaces'\nimport { Color } from './theme'\n\nexport const typedMemo: <T>(c: T) => T = React.memo\n\nexport const DAY_MINUTES = 1440\n\nexport function getDatesInMonth(date: Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date)\n  const days = Array(subject.daysInMonth() - 1)\n    .fill(0)\n    .map((_, i) => {\n      return subject.date(i + 1).locale(locale)\n    })\n  return days\n}\n\nexport function getDatesInWeek(\n  date: Date | dayjs.Dayjs = new Date(),\n  weekStartsOn: WeekNum = 0,\n  locale = 'en',\n) {\n  const subject = dayjs(date)\n  const subjectDOW = subject.day()\n  const days = Array(7)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i - (subjectDOW < weekStartsOn ? 7 + subjectDOW : subjectDOW) + weekStartsOn, 'day').locale(locale)\n    })\n  return days\n}\n\nexport function getDatesInNextThreeDays(date: Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date).locale(locale)\n  const days = Array(3)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i, 'day')\n    })\n  return days\n}\n\nexport function getDatesInNextOneDay(date: Date | dayjs.Dayjs = new Date(), locale = 'en') {\n  const subject = dayjs(date).locale(locale)\n  const days = Array(1)\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i, 'day')\n    })\n  return days\n}\n\nexport const hours = [\n  0,\n  1,\n  2,\n  3,\n  4,\n  5,\n  6,\n  7,\n  8,\n  9,\n  10,\n  11,\n  12,\n  13,\n  14,\n  15,\n  16,\n  17,\n  18,\n  19,\n  20,\n  21,\n  22,\n  23,\n]\n\nexport function formatHour(hour: number, ampm = false) {\n  if (ampm) {\n    if (hour === 0) {\n      return ''\n    }\n    if (hour === 12) {\n      return `12 PM`\n    }\n    if (hour > 12) {\n      return `${hour - 12} PM`\n    }\n    return `${hour} AM`\n  }\n  return `${hour}:00`\n}\n\nexport function isToday(date: dayjs.Dayjs) {\n  const today = dayjs()\n  return today.isSame(date, 'day')\n}\n\nexport function getRelativeTopInDay(date: dayjs.Dayjs) {\n  return (100 * (date.hour() * 60 + date.minute())) / DAY_MINUTES\n}\n\nexport function todayInMinutes() {\n  const today = dayjs()\n  return today.diff(dayjs().startOf('day'), 'minute')\n}\n\nexport function modeToNum(mode: Mode, current?: dayjs.Dayjs): number {\n  if (mode === 'month') {\n    if (!current) {\n      throw new Error('You must specify current date if mode is month')\n    }\n    return current.daysInMonth() - current.date() + 1\n  }\n  switch (mode) {\n    case '3days':\n      return 3\n    case 'week':\n      return 7\n    case 'day':\n      return 1\n    case 'custom':\n      return 7\n    default:\n      throw new Error('undefined mode')\n  }\n}\n\nexport function formatStartEnd(start: Date, end: Date) {\n  return `${dayjs(start).format('HH:mm')} - ${dayjs(end).format('HH:mm')}`\n}\n\nexport function isAllDayEvent(start: Date, end: Date) {\n  const _start = dayjs(start)\n  const _end = dayjs(end)\n\n  return _start.hour() === 0 && _start.minute() === 0 && _end.hour() === 0 && _end.minute() === 0\n}\n\nexport function getCountOfEventsAtEvent(\n  event: ICalendarEvent<any>,\n  eventList: ICalendarEvent<any>[],\n) {\n  dayjs.extend(isBetween)\n  return eventList.filter(\n    (e) =>\n      dayjs(event.start).isBetween(e.start, e.end, 'minute', '[)') ||\n      dayjs(e.start).isBetween(event.start, event.end, 'minute', '[)'),\n  ).length\n}\n\nexport function getOrderOfEvent(event: ICalendarEvent<any>, eventList: ICalendarEvent<any>[]) {\n  dayjs.extend(isBetween)\n  const events = eventList\n    .filter(\n      (e) =>\n        dayjs(event.start).isBetween(e.start, e.end, 'minute', '[)') ||\n        dayjs(e.start).isBetween(event.start, event.end, 'minute', '[)'),\n    )\n    .sort((a, b) => {\n      if (dayjs(a.start).isSame(b.start)) {\n        return dayjs(a.start).diff(a.end) < dayjs(b.start).diff(b.end) ? -1 : 1\n      } else {\n        return dayjs(a.start).isBefore(b.start) ? -1 : 1\n      }\n    })\n  return events.indexOf(event)\n}\n\nfunction getColorForEventPosition(eventPosition: number) {\n  switch (eventPosition % 5) {\n    case 0:\n      return Color.primary\n    case 1:\n      return Color.orange\n    case 2:\n      return Color.green\n    case 3:\n      return Color.red\n    case 4:\n      return Color.pink\n    default:\n      return Color.primary\n  }\n}\n\nexport function getStyleForOverlappingEvent(\n  eventCount: number,\n  eventPosition: number,\n  overlapOffset: number,\n) {\n  let overlapStyle = {}\n  if (eventCount > 1) {\n    const offset = overlapOffset\n    const start = eventPosition * offset\n    const zIndex = 100 + eventPosition\n    overlapStyle = {\n      start: start + OVERLAP_PADDING,\n      end: OVERLAP_PADDING,\n      backgroundColor: getColorForEventPosition(eventPosition),\n      zIndex,\n    }\n  }\n  return overlapStyle\n}\n\nexport function getDatesInNextCustomDays(\n  date: Date | dayjs.Dayjs = new Date(),\n  weekStartsOn: WeekNum = 0,\n  weekEndsOn: WeekNum = 6,\n  locale = 'en',\n) {\n  const subject = dayjs(date)\n  const subjectDOW = subject.day()\n  const days = Array(weekDaysCount(weekStartsOn, weekEndsOn))\n    .fill(0)\n    .map((_, i) => {\n      return subject.add(i - subjectDOW + weekStartsOn, 'day').locale(locale)\n    })\n  return days\n}\n\n// TODO: This method should be unit-tested\nfunction weekDaysCount(weekStartsOn: WeekNum, weekEndsOn: WeekNum) {\n  // handle reverse week\n  if (weekEndsOn < weekStartsOn) {\n    let daysCount = 1\n    let i = weekStartsOn\n    while (i !== weekEndsOn) {\n      ++i\n      ++daysCount\n      if (i > 6) {\n        i = 0\n      }\n      // fallback for infinite\n      if (daysCount > 7) {\n        break\n      }\n    }\n    return daysCount\n  }\n  // normal week\n  if (weekEndsOn > weekStartsOn) {\n    return weekEndsOn - weekStartsOn + 1\n  }\n  // default\n  return 1\n}\n","import dayjs from 'dayjs'\nimport React from 'react'\n\nexport function useNow(enabled: boolean) {\n  const [now, setNow] = React.useState(dayjs())\n\n  React.useEffect(() => {\n    if (!enabled) {\n      return () => {}\n    }\n    const pid = setInterval(() => setNow(dayjs()), 60 * 1000)\n    return () => clearInterval(pid)\n  }, [enabled])\n\n  return {\n    now,\n  }\n}\n","import React from 'react'\nimport { PanResponder } from 'react-native'\nimport { HorizontalDirection } from '../interfaces'\n\nconst SWIPE_THRESHOLD = 50\n\nexport function usePanResponder({\n  onSwipeHorizontal,\n}: {\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n}) {\n  const [panHandled, setPanHandled] = React.useState(false)\n\n  const panResponder = React.useMemo(\n    () =>\n      PanResponder.create({\n        // see https://stackoverflow.com/questions/47568850/touchableopacity-with-parent-panresponder\n        onMoveShouldSetPanResponder: (_, { dx, dy }) => {\n          return dx > 2 || dx < -2 || dy > 2 || dy < -2\n        },\n        onPanResponderMove: (_, { dy, dx }) => {\n          if (dy < -1 * SWIPE_THRESHOLD || SWIPE_THRESHOLD < dy || panHandled) {\n            return\n          }\n          if (dx < -1 * SWIPE_THRESHOLD) {\n            onSwipeHorizontal && onSwipeHorizontal('LEFT')\n            setPanHandled(true)\n            return\n          }\n          if (dx > SWIPE_THRESHOLD) {\n            onSwipeHorizontal && onSwipeHorizontal('RIGHT')\n            setPanHandled(true)\n            return\n          }\n        },\n        onPanResponderEnd: () => {\n          setPanHandled(false)\n        },\n      }),\n    [panHandled, onSwipeHorizontal],\n  )\n\n  return panResponder\n}\n","import dayjs from 'dayjs'\nimport React from 'react'\nimport { ViewStyle } from 'react-native'\nimport { commonStyles } from '../commonStyles'\nimport { CalendarTouchableOpacityProps, EventCellStyle, ICalendarEvent } from '../interfaces'\n\ninterface UseCalendarTouchableOpacityPropsProps<T> {\n  event: ICalendarEvent<T>\n  eventCellStyle?: EventCellStyle<T>\n  onPressEvent?: (e: ICalendarEvent<T>) => void\n  injectedStyles?: ViewStyle[]\n}\n\nexport function useCalendarTouchableOpacityProps<T>({\n  event,\n  eventCellStyle,\n  injectedStyles = [],\n  onPressEvent,\n}: UseCalendarTouchableOpacityPropsProps<T>) {\n  const getEventStyle = React.useMemo(\n    () => (typeof eventCellStyle === 'function' ? eventCellStyle : () => eventCellStyle),\n    [eventCellStyle],\n  )\n\n  const plainJsEvent = React.useMemo(\n    () => ({\n      ...event,\n      start: dayjs(event.start).toDate(),\n      end: dayjs(event.end).toDate(),\n    }),\n    [event],\n  )\n\n  const _onPress = React.useCallback(() => {\n    onPressEvent && onPressEvent(plainJsEvent)\n  }, [onPressEvent, plainJsEvent])\n\n  const touchableOpacityProps: CalendarTouchableOpacityProps = {\n    delayPressIn: 20,\n    key: event.start.toString(),\n    style: [commonStyles.eventCell, ...injectedStyles, getEventStyle(plainJsEvent)],\n    onPress: _onPress,\n    disabled: !onPressEvent,\n  }\n\n  return touchableOpacityProps\n}\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Text, TouchableOpacity } from 'react-native'\n\nimport { eventTitleStyle, u } from '../commonStyles'\nimport { CalendarTouchableOpacityProps, ICalendarEvent } from '../interfaces'\nimport { formatStartEnd } from '../utils'\n\ninterface DefaultCalendarEventRendererProps<T> {\n  touchableOpacityProps: CalendarTouchableOpacityProps\n  event: ICalendarEvent<T>\n  showTime?: boolean\n}\n\nconst eventTimeStyle = [u['text-white'], u['text-xs']]\n\nexport function DefaultCalendarEventRenderer<T>({\n  touchableOpacityProps,\n  event,\n  showTime = true,\n}: DefaultCalendarEventRendererProps<T>) {\n  return (\n    <TouchableOpacity {...touchableOpacityProps}>\n      {dayjs(event.end).diff(event.start, 'minute') < 32 && showTime ? (\n        <Text style={eventTitleStyle}>\n          {event.title},<Text style={eventTimeStyle}>{dayjs(event.start).format('HH:mm')}</Text>\n        </Text>\n      ) : (\n        <>\n          <Text style={eventTitleStyle}>{event.title}</Text>\n          {showTime && <Text style={eventTimeStyle}>{formatStartEnd(event.start, event.end)}</Text>}\n          {event.children && event.children}\n        </>\n      )}\n    </TouchableOpacity>\n  )\n}\n","import dayjs from 'dayjs'\nimport * as React from 'react'\n\nimport { OVERLAP_OFFSET, u } from '../commonStyles'\nimport { useCalendarTouchableOpacityProps } from '../hooks/useCalendarTouchableOpacityProps'\nimport { EventCellStyle, EventRenderer, ICalendarEvent } from '../interfaces'\nimport { DAY_MINUTES, getRelativeTopInDay, getStyleForOverlappingEvent, typedMemo } from '../utils'\nimport { DefaultCalendarEventRenderer } from './DefaultCalendarEventRenderer'\n\nconst getEventCellPositionStyle = (start: Date, end: Date) => {\n  const relativeHeight = 100 * (1 / DAY_MINUTES) * dayjs(end).diff(start, 'minute')\n  const relativeTop = getRelativeTopInDay(dayjs(start))\n  return {\n    height: `${relativeHeight}%`,\n    top: `${relativeTop}%`,\n  }\n}\n\ninterface CalendarEventProps<T> {\n  event: ICalendarEvent<T>\n  onPressEvent?: (event: ICalendarEvent<T>) => void\n  eventCellStyle?: EventCellStyle<T>\n  showTime: boolean\n  eventCount?: number\n  eventOrder?: number\n  overlapOffset?: number\n  renderEvent?: EventRenderer<T>\n}\n\nfunction _CalendarEvent<T>({\n  event,\n  onPressEvent,\n  eventCellStyle,\n  showTime,\n  eventCount = 1,\n  eventOrder = 0,\n  overlapOffset = OVERLAP_OFFSET,\n  renderEvent,\n}: CalendarEventProps<T>) {\n  const touchableOpacityProps = useCalendarTouchableOpacityProps({\n    event,\n    eventCellStyle,\n    onPressEvent,\n    injectedStyles: [\n      getEventCellPositionStyle(event.start, event.end),\n      getStyleForOverlappingEvent(eventCount, eventOrder, overlapOffset),\n      u['absolute'],\n    ],\n  })\n\n  if (renderEvent) {\n    return renderEvent(event, touchableOpacityProps)\n  }\n\n  return (\n    <DefaultCalendarEventRenderer\n      event={event}\n      showTime={showTime}\n      touchableOpacityProps={touchableOpacityProps}\n    />\n  )\n}\n\nexport const CalendarEvent = typedMemo(_CalendarEvent)\n","import dayjs from 'dayjs'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport * as React from 'react'\nimport {\n  Platform,\n  ScrollView,\n  StyleSheet,\n  Text,\n  TouchableWithoutFeedback,\n  View,\n  ViewStyle,\n} from 'react-native'\n\nimport { dateCellStyle, guideTextStyle, u } from '../commonStyles'\nimport { useNow } from '../hooks/useNow'\nimport { usePanResponder } from '../hooks/usePanResponder'\nimport { EventCellStyle, EventRenderer, HorizontalDirection, ICalendarEvent } from '../interfaces'\nimport {\n  formatHour,\n  getCountOfEventsAtEvent,\n  getOrderOfEvent,\n  getRelativeTopInDay,\n  hours,\n  isToday,\n  typedMemo,\n} from '../utils'\nimport { CalendarEvent } from './CalendarEvent'\n\ndayjs.extend(isBetween)\n\nconst styles = StyleSheet.create({\n  nowIndicator: {\n    position: 'absolute',\n    zIndex: 10000,\n    backgroundColor: 'red',\n    height: 2,\n    width: '100%',\n  },\n})\n\ninterface CalendarBodyProps<T> {\n  cellHeight: number\n  containerHeight: number\n  dateRange: dayjs.Dayjs[]\n  events: ICalendarEvent<T>[]\n  scrollOffsetMinutes: number\n  ampm: boolean\n  showTime: boolean\n  style: ViewStyle\n  eventCellStyle?: EventCellStyle<T>\n  hideNowIndicator?: boolean\n  overlapOffset?: number\n  isRTL: boolean\n  onPressCell?: (date: Date) => void\n  onPressEvent?: (event: ICalendarEvent<T>) => void\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n  renderEvent?: EventRenderer<T>\n}\n\ninterface WithCellHeight {\n  cellHeight: number\n}\n\nconst _HourGuideColumn = ({\n  cellHeight,\n  hour,\n  ampm,\n}: WithCellHeight & { hour: number; ampm: boolean }) => (\n  <View style={{ height: cellHeight }}>\n    <Text style={guideTextStyle}>{formatHour(hour, ampm)}</Text>\n  </View>\n)\n\nconst HourGuideColumn = React.memo(_HourGuideColumn, () => true)\n\ninterface HourCellProps extends WithCellHeight {\n  onPress: (d: dayjs.Dayjs) => void\n  date: dayjs.Dayjs\n  hour: number\n}\n\nconst HourCell = ({ cellHeight, onPress, date, hour }: HourCellProps) => {\n  return (\n    <TouchableWithoutFeedback onPress={() => onPress(date.hour(hour).minute(0))}>\n      <View style={[dateCellStyle, { height: cellHeight }]} />\n    </TouchableWithoutFeedback>\n  )\n}\n\nfunction _CalendarBody<T>({\n  containerHeight,\n  cellHeight,\n  dateRange,\n  style = {},\n  onPressCell,\n  events,\n  onPressEvent,\n  eventCellStyle,\n  ampm,\n  showTime,\n  scrollOffsetMinutes,\n  onSwipeHorizontal,\n  hideNowIndicator,\n  overlapOffset,\n  isRTL,\n  renderEvent,\n}: CalendarBodyProps<T>) {\n  const scrollView = React.useRef<ScrollView>(null)\n  const { now } = useNow(!hideNowIndicator)\n\n  React.useEffect(() => {\n    if (scrollView.current && scrollOffsetMinutes && Platform.OS !== 'ios') {\n      // We add delay here to work correct on React Native\n      // see: https://stackoverflow.com/questions/33208477/react-native-android-scrollview-scrollto-not-working\n      setTimeout(\n        () => {\n          if (scrollView && scrollView.current) {\n            scrollView.current.scrollTo({\n              y: (cellHeight * scrollOffsetMinutes) / 60,\n              animated: false,\n            })\n          }\n        },\n        Platform.OS === 'web' ? 0 : 10,\n      )\n    }\n  }, [scrollView, scrollOffsetMinutes, cellHeight])\n\n  const panResponder = usePanResponder({\n    onSwipeHorizontal,\n  })\n\n  const _onPressCell = React.useCallback(\n    (date: dayjs.Dayjs) => {\n      onPressCell && onPressCell(date.toDate())\n    },\n    [onPressCell],\n  )\n\n  const _renderMappedEvent = (event: ICalendarEvent<T>) => (\n    <CalendarEvent\n      key={`${event.start}${event.title}`}\n      event={event}\n      onPressEvent={onPressEvent}\n      eventCellStyle={eventCellStyle}\n      showTime={showTime}\n      eventCount={getCountOfEventsAtEvent(event, events)}\n      eventOrder={getOrderOfEvent(event, events)}\n      overlapOffset={overlapOffset}\n      renderEvent={renderEvent}\n    />\n  )\n\n  return (\n    <ScrollView\n      style={[\n        {\n          height: containerHeight - cellHeight * 3,\n        },\n        style,\n      ]}\n      ref={scrollView}\n      scrollEventThrottle={32}\n      {...(Platform.OS !== 'web' ? panResponder.panHandlers : {})}\n      showsVerticalScrollIndicator={false}\n      nestedScrollEnabled\n      contentOffset={Platform.OS === 'ios' ? { x: 0, y: scrollOffsetMinutes } : { x: 0, y: 0 }}\n    >\n      <View\n        style={[u['flex-1'], isRTL ? u['flex-row-reverse'] : u['flex-row']]}\n        {...(Platform.OS === 'web' ? panResponder.panHandlers : {})}\n      >\n        <View style={[u['bg-white'], u['z-20'], u['w-50']]}>\n          {hours.map((hour) => (\n            <HourGuideColumn key={hour} cellHeight={cellHeight} hour={hour} ampm={ampm} />\n          ))}\n        </View>\n        {dateRange.map((date) => (\n          <View style={[u['flex-1'], u['overflow-hidden']]} key={date.toString()}>\n            {hours.map((hour) => (\n              <HourCell\n                key={hour}\n                cellHeight={cellHeight}\n                date={date}\n                hour={hour}\n                onPress={_onPressCell}\n              />\n            ))}\n            {events\n              .filter(({ start }) =>\n                dayjs(start).isBetween(date.startOf('day'), date.endOf('day'), null, '[)'),\n              )\n              .map(_renderMappedEvent)}\n            {events\n              .filter(\n                ({ start, end }) =>\n                  dayjs(start).isBefore(date.startOf('day')) &&\n                  dayjs(end).isBetween(date.startOf('day'), date.endOf('day'), null, '[)'),\n              )\n              .map((event) => ({\n                ...event,\n                start: dayjs(event.end).startOf('day'),\n              }))\n              .map(_renderMappedEvent)}\n            {events\n              .filter(\n                ({ start, end }) =>\n                  dayjs(start).isBefore(date.startOf('day')) &&\n                  dayjs(end).isAfter(date.endOf('day')),\n              )\n              .map((event) => ({\n                ...event,\n                start: dayjs(event.end).startOf('day'),\n                end: dayjs(event.end).endOf('day'),\n              }))\n              .map(_renderMappedEvent)}\n            {isToday(date) && !hideNowIndicator && (\n              <View style={[styles.nowIndicator, { top: `${getRelativeTopInDay(now)}%` }]} />\n            )}\n          </View>\n        ))}\n      </View>\n    </ScrollView>\n  )\n}\n\nexport const CalendarBody = typedMemo(_CalendarBody)\n","import * as React from 'react'\nimport { Text, TouchableOpacity } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { useCalendarTouchableOpacityProps } from '../hooks/useCalendarTouchableOpacityProps'\nimport { EventCellStyle, EventRenderer, ICalendarEvent } from '../interfaces'\nimport { typedMemo } from '../utils'\n\ninterface CalendarEventProps<T> {\n  event: ICalendarEvent<T>\n  onPressEvent?: (event: ICalendarEvent<T>) => void\n  eventCellStyle?: EventCellStyle<T>\n  renderEvent?: EventRenderer<T>\n}\n\nfunction _CalendarEventForMonthView<T>({\n  event,\n  onPressEvent,\n  eventCellStyle,\n  renderEvent,\n}: CalendarEventProps<T>) {\n  const touchableOpacityProps = useCalendarTouchableOpacityProps({\n    event,\n    eventCellStyle,\n    onPressEvent,\n    injectedStyles: [u['mt-2']],\n  })\n\n  if (renderEvent) {\n    return renderEvent(event, touchableOpacityProps)\n  }\n\n  return (\n    <TouchableOpacity {...touchableOpacityProps}>\n      <Text style={[u['text-white'], u['text-xs']]}>{event.title}</Text>\n    </TouchableOpacity>\n  )\n}\n\nexport const CalendarEventForMonthView = typedMemo(_CalendarEventForMonthView)\n","import calendarize from 'calendarize'\nimport dayjs from 'dayjs'\nimport isBetween from 'dayjs/plugin/isBetween'\nimport * as React from 'react'\nimport { Text, TouchableOpacity, View, ViewStyle } from 'react-native'\n\nimport { u } from '../commonStyles'\nimport { useNow } from '../hooks/useNow'\nimport { usePanResponder } from '../hooks/usePanResponder'\nimport {\n  EventCellStyle,\n  EventRenderer,\n  HorizontalDirection,\n  ICalendarEvent,\n  WeekNum,\n} from '../interfaces'\nimport { Color } from '../theme'\nimport { typedMemo } from '../utils'\nimport { CalendarEventForMonthView } from './CalendarEventForMonthView'\n\ndayjs.extend(isBetween)\n\ninterface CalendarBodyForMonthViewProps<T> {\n  containerHeight: number\n  targetDate: dayjs.Dayjs\n  events: ICalendarEvent<T>[]\n  style: ViewStyle\n  eventCellStyle?: EventCellStyle<T>\n  hideNowIndicator?: boolean\n  isRTL: boolean\n  onPressCell?: (date: Date) => void\n  onPressEvent?: (event: ICalendarEvent<T>) => void\n  onSwipeHorizontal?: (d: HorizontalDirection) => void\n  renderEvent?: EventRenderer<T>\n  maxVisibleEventCount: number\n  weekStartsOn: WeekNum\n}\n\nfunction _CalendarBodyForMonthView<T>({\n  containerHeight,\n  targetDate,\n  style = {},\n  onPressCell,\n  events,\n  onPressEvent,\n  eventCellStyle,\n  onSwipeHorizontal,\n  hideNowIndicator,\n  isRTL,\n  renderEvent,\n  maxVisibleEventCount,\n  weekStartsOn,\n}: CalendarBodyForMonthViewProps<T>) {\n  const { now } = useNow(!hideNowIndicator)\n\n  const panResponder = usePanResponder({\n    onSwipeHorizontal,\n  })\n\n  const weeks = calendarize(targetDate.toDate(), weekStartsOn)\n\n  const cellHeight = containerHeight / 6 - 30\n\n  return (\n    <View\n      style={[\n        {\n          height: containerHeight,\n        },\n        u['flex-column'],\n        u['flex-1'],\n        style,\n      ]}\n      {...panResponder.panHandlers}\n    >\n      {weeks.map((week, i) => (\n        <View\n          key={i}\n          style={[\n            u['flex-1'],\n            isRTL ? u['flex-row-reverse'] : u['flex-row'],\n            { height: cellHeight },\n          ]}\n        >\n          {week\n            .map((d) => (d > 0 ? targetDate.date(d) : null))\n            .map((date, ii) => (\n              <TouchableOpacity\n                onPress={() => date && onPressCell && onPressCell(date.toDate())}\n                style={[\n                  i > 0 && u['border-t'],\n                  isRTL && ii > 0 && u['border-r'],\n                  !isRTL && ii > 0 && u['border-l'],\n                  u['border-gray-200'],\n                  u['p-8'],\n                  u['flex-1'],\n                  u['flex-column'],\n                  { height: cellHeight },\n                ]}\n                key={ii}\n              >\n                <Text\n                  style={[\n                    { textAlign: 'center' },\n                    date &&\n                      date.format('YYYY-MM-DD') === now.format('YYYY-MM-DD') && {\n                        color: Color.primary,\n                      },\n                  ]}\n                >\n                  {date && date.format('D')}\n                </Text>\n                {date &&\n                  events\n                    .filter(({ start }) =>\n                      dayjs(start).isBetween(date.startOf('day'), date.endOf('day'), null, '[)'),\n                    )\n                    .reduce(\n                      (elements, event, index, events) => [\n                        ...elements,\n                        index > maxVisibleEventCount - 1 ? (\n                          <Text style={{ fontSize: 11, marginTop: 2, fontWeight: 'bold' }}>\n                            {events.length - 3} More\n                          </Text>\n                        ) : (\n                          <CalendarEventForMonthView\n                            event={event}\n                            eventCellStyle={eventCellStyle}\n                            onPressEvent={onPressEvent}\n                            renderEvent={renderEvent}\n                          />\n                        ),\n                      ],\n                      [] as JSX.Element[],\n                    )}\n              </TouchableOpacity>\n            ))}\n        </View>\n      ))}\n    </View>\n  )\n}\n\nexport const CalendarBodyForMonthView = typedMemo(_CalendarBodyForMonthView)\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Platform, Text, TouchableOpacity, View, ViewStyle } from 'react-native'\n\nimport { commonStyles, dateCellStyle, eventTitleStyle, guideTextStyle, u } from '../commonStyles'\nimport { ICalendarEvent } from '../interfaces'\nimport { isToday, typedMemo } from '../utils'\n\ninterface CalendarHeaderProps<T> {\n  dateRange: dayjs.Dayjs[]\n  cellHeight: number\n  style: ViewStyle\n  allDayEvents: ICalendarEvent<T>[]\n  isRTL: boolean\n  onPressDateHeader?: (date: Date) => void\n}\n\nfunction _CalendarHeader<T>({\n  dateRange,\n  cellHeight,\n  style = {},\n  allDayEvents,\n  isRTL,\n  onPressDateHeader,\n}: CalendarHeaderProps<T>) {\n  const _onPress = React.useCallback(\n    (date: Date) => {\n      onPressDateHeader && onPressDateHeader(date)\n    },\n    [onPressDateHeader],\n  )\n\n  return (\n    <View\n      style={[\n        u['border-b'],\n        u['border-gray-100'],\n        u['bg-white'],\n        isRTL ? u['flex-row-reverse'] : u['flex-row'],\n        style,\n      ]}\n    >\n      <View style={[u['bg-white'], u['z-10'], u['w-50'], u['border-b'], u['border-gray-100']]} />\n      {dateRange.map((date) => {\n        const _isToday = isToday(date)\n        return (\n          <TouchableOpacity\n            style={[u['bg-white'], u['flex-1'], u['pt-2']]}\n            onPress={() => _onPress(date.toDate())}\n            disabled={onPressDateHeader === undefined}\n            key={date.toString()}\n          >\n            <View style={[u['justify-between'], { height: cellHeight }]}>\n              <Text style={[guideTextStyle, _isToday && u['text-primary']]}>\n                {date.format('ddd')}\n              </Text>\n              <View\n                style={\n                  _isToday\n                    ? [\n                        u['h-36'],\n                        u['w-36'],\n                        u['bg-primary'],\n                        u['pb-6'],\n                        u['rounded-full'],\n                        u['items-center'],\n                        u['justify-center'],\n                        u['self-center'],\n                        u['z-20'],\n                      ]\n                    : [u['mb-6']]\n                }\n              >\n                <Text\n                  style={[\n                    u['text-gray-800'],\n                    u['text-2xl'],\n                    u['text-center'],\n                    _isToday && u['text-white'],\n                    Platform.OS === 'web' && _isToday && u['mt-6'],\n                  ]}\n                >\n                  {date.format('D')}\n                </Text>\n              </View>\n            </View>\n            <View style={[dateCellStyle, { height: cellHeight }]}>\n              {allDayEvents.map((event) => {\n                if (!dayjs(event.start).isSame(date, 'day')) {\n                  return null\n                }\n                return (\n                  <View style={commonStyles.eventCell} key={`${event.start}${event.title}`}>\n                    <Text style={eventTitleStyle}>{event.title}</Text>\n                  </View>\n                )\n              })}\n            </View>\n          </TouchableOpacity>\n        )\n      })}\n    </View>\n  )\n}\n\nexport const CalendarHeader = typedMemo(_CalendarHeader)\n","import dayjs from 'dayjs'\nimport * as React from 'react'\nimport { Text, View, ViewStyle } from 'react-native'\n\nimport { guideTextStyle, u } from '../commonStyles'\nimport { WeekNum } from '../interfaces'\nimport { getDatesInWeek, typedMemo } from '../utils'\n\ninterface CalendarHeaderProps {\n  weekStartsOn: WeekNum\n  isRTL: boolean\n  locale: string\n  style?: ViewStyle\n}\n\nfunction _CalendarHeaderForMonthView({\n  locale,\n  isRTL,\n  weekStartsOn,\n  style = {},\n}: CalendarHeaderProps) {\n  const dates = getDatesInWeek(new Date(), weekStartsOn, locale)\n  const todayWeekNum = dayjs().day()\n\n  return (\n    <View\n      style={[\n        u['flex-1'],\n        u['border-b'],\n        u['border-gray-100'],\n        isRTL ? u['flex-row-reverse'] : u['flex-row'],\n        style,\n      ]}\n    >\n      {dates.map((date) => (\n        <View style={{ flex: 1, paddingTop: 2 }} key={date.toISOString()}>\n          <View style={{ height: 30 }}>\n            <Text style={[guideTextStyle, todayWeekNum === date.day() && u['text-primary']]}>\n              {date.format('ddd')}\n            </Text>\n          </View>\n        </View>\n      ))}\n    </View>\n  )\n}\n\nexport const CalendarHeaderForMonthView = typedMemo(_CalendarHeaderForMonthView)\n","import dayjs from 'dayjs'\nimport React from 'react'\nimport { ViewStyle } from 'react-native'\n\nimport { MIN_HEIGHT } from '../commonStyles'\nimport {\n  DateRangeHandler,\n  EventCellStyle,\n  EventRenderer,\n  HorizontalDirection,\n  ICalendarEvent,\n  Mode,\n  WeekNum,\n} from '../interfaces'\nimport {\n  getDatesInMonth,\n  getDatesInNextCustomDays,\n  getDatesInNextOneDay,\n  getDatesInNextThreeDays,\n  getDatesInWeek,\n  isAllDayEvent,\n  modeToNum,\n  typedMemo,\n} from '../utils'\nimport { CalendarBody } from './CalendarBody'\nimport { CalendarBodyForMonthView } from './CalendarBodyForMonthView'\nimport { CalendarHeader } from './CalendarHeader'\nimport { CalendarHeaderForMonthView } from './CalendarHeaderForMonthView'\n\nexport interface CalendarProps<T> {\n  events: ICalendarEvent<T>[]\n  height: number\n  overlapOffset?: number\n  ampm?: boolean\n  date?: Date\n  eventCellStyle?: EventCellStyle<T>\n  locale?: string\n  hideNowIndicator?: boolean\n  mode?: Mode\n  scrollOffsetMinutes?: number\n  showTime?: boolean\n  style?: ViewStyle\n  swipeEnabled?: boolean\n  weekStartsOn?: WeekNum\n  isRTL?: boolean\n  onChangeDate?: DateRangeHandler\n  onPressCell?: (date: Date) => void\n  onPressDateHeader?: (date: Date) => void\n  onPressEvent?: (event: ICalendarEvent<T>) => void\n  renderEvent?: EventRenderer<T>\n  weekEndsOn?: WeekNum\n  maxVisibleEventCount?: number\n}\n\nfunction _Calendar<T>({\n  events,\n  height,\n  ampm = false,\n  date,\n  eventCellStyle,\n  locale = 'en',\n  hideNowIndicator = false,\n  mode = 'week',\n  overlapOffset,\n  scrollOffsetMinutes = 0,\n  showTime = true,\n  style = {},\n  swipeEnabled = true,\n  weekStartsOn = 0,\n  isRTL = false,\n  onChangeDate,\n  onPressCell,\n  onPressDateHeader,\n  onPressEvent,\n  renderEvent,\n  weekEndsOn = 6,\n  maxVisibleEventCount = 3,\n}: CalendarProps<T>) {\n  const [targetDate, setTargetDate] = React.useState(dayjs(date))\n\n  React.useEffect(() => {\n    if (date) {\n      setTargetDate(dayjs(date))\n    }\n  }, [date])\n\n  const allDayEvents = React.useMemo(\n    () => events.filter((event) => isAllDayEvent(event.start, event.end)),\n    [events],\n  )\n\n  const daytimeEvents = React.useMemo(\n    () => events.filter((event) => !isAllDayEvent(event.start, event.end)),\n    [events],\n  )\n\n  const dateRange = React.useMemo(() => {\n    switch (mode) {\n      case 'month':\n        return getDatesInMonth(targetDate, locale)\n      case 'week':\n        return getDatesInWeek(targetDate, weekStartsOn, locale)\n      case '3days':\n        return getDatesInNextThreeDays(targetDate, locale)\n      case 'day':\n        return getDatesInNextOneDay(targetDate, locale)\n      case 'custom':\n        return getDatesInNextCustomDays(targetDate, weekStartsOn, weekEndsOn, locale)\n      default:\n        throw new Error('undefined mode')\n    }\n  }, [mode, targetDate, locale, weekEndsOn, weekStartsOn])\n\n  React.useEffect(() => {\n    if (onChangeDate) {\n      onChangeDate([dateRange[0].toDate(), dateRange.slice(-1)[0].toDate()])\n    }\n  }, [dateRange, onChangeDate])\n\n  const cellHeight = React.useMemo(() => Math.max(height - 30, MIN_HEIGHT) / 24, [height])\n\n  const onSwipeHorizontal = React.useCallback(\n    (direction: HorizontalDirection) => {\n      if (!swipeEnabled) {\n        return\n      }\n      if ((direction === 'LEFT' && !isRTL) || (direction === 'RIGHT' && isRTL)) {\n        setTargetDate(targetDate.add(modeToNum(mode, targetDate), 'day'))\n      } else {\n        setTargetDate(targetDate.add(modeToNum(mode, targetDate) * -1, 'day'))\n      }\n    },\n    [swipeEnabled, targetDate, mode, isRTL],\n  )\n\n  const commonProps = {\n    cellHeight,\n    dateRange,\n    style,\n    isRTL,\n    mode,\n  }\n\n  if (mode === 'month') {\n    return (\n      <React.Fragment>\n        <CalendarHeaderForMonthView locale={locale} isRTL={isRTL} weekStartsOn={weekStartsOn} />\n        <CalendarBodyForMonthView<T>\n          {...commonProps}\n          containerHeight={height}\n          events={daytimeEvents}\n          eventCellStyle={eventCellStyle}\n          weekStartsOn={weekStartsOn}\n          hideNowIndicator={hideNowIndicator}\n          onPressCell={onPressCell}\n          onPressEvent={onPressEvent}\n          onSwipeHorizontal={onSwipeHorizontal}\n          renderEvent={renderEvent}\n          targetDate={targetDate}\n          maxVisibleEventCount={maxVisibleEventCount}\n        />\n      </React.Fragment>\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <CalendarHeader\n        {...commonProps}\n        allDayEvents={allDayEvents}\n        onPressDateHeader={onPressDateHeader}\n      />\n      <CalendarBody\n        {...commonProps}\n        containerHeight={height}\n        events={daytimeEvents}\n        eventCellStyle={eventCellStyle}\n        hideNowIndicator={hideNowIndicator}\n        overlapOffset={overlapOffset}\n        scrollOffsetMinutes={scrollOffsetMinutes}\n        ampm={ampm}\n        showTime={showTime}\n        onPressCell={onPressCell}\n        onPressEvent={onPressEvent}\n        onSwipeHorizontal={onSwipeHorizontal}\n        renderEvent={renderEvent}\n      />\n    </React.Fragment>\n  )\n}\n\nexport const Calendar = typedMemo(_Calendar)\n"],"names":["Platform","StyleSheet","React","dayjs","isBetween","PanResponder","TouchableOpacity","Text","View","TouchableWithoutFeedback","ScrollView","calendarize"],"mappings":"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"}